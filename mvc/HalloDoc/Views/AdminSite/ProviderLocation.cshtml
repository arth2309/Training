

<html>
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <link href="~/css/adminsite/providerlocation.css" rel="stylesheet" />
  
    
    </head>

    <body>
    <header class="bg-white shadow">
        <div class="d-flex d-lg-flex">
            <button type="button" class="btn btn-outline-info d-flex d-lg-none" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample"><i class="bi bi-list"></i></button>
        </div>
        <div class="img1"><img src="~/images/Fig56. Patient site 1.png" alt="hallodoc" style="height: 90px;"></div>
        <div class="right">
            <div class="intro"><p>Welcome:</p></div>
            <div class="s intro"><span><b>@Html.Raw(ViewBag.AdminName)</b></span></div>
            <div class="ilogout">
                <button type="button" class="btn btn-outline-info"><i class="bi bi-box-arrow-right"></i></button>
            </div>
            <div class="Logout">
                <button type="button" class="btn btn-outline-info">Logout</button>
            </div>
            <div class="theme"><img src="~/images/icons8-moon-symbol-25.png" alt="theme"></div>
        </div>
    </header>


    <div class="offcanvas offcanvas-start d-lg-none" style="width:40%" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasExampleLabel">Offcanvas</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body align-items-center nav-tabs">


            <a class="nav-link  text-black">DashBoard</a>

            <a class="nav-link text-black">Provider Location</a>


            <a class="nav-link border-dark text-black">My Profile</a>



            <a class="nav-link text-black">Providers</a>


            <a class="nav-link text-black">Partners</a>


            <a class="nav-link text-black">Access</a>


            <a class="nav-link text-black">Records</a>



        </div>
    </div>

    <ul class="nav nav-underline  d-none d-lg-flex" id="hide" style="padding-left: 2%; margin-bottom: 40px;background-color: white;">
        <li class="nav-item">
            <a class="nav-link text-black" asp-controller="AdminSite" asp-action="AdminDashBoard"><b>DashBoard</b></a>
        </li>
        <li class="nav-item">
            <a class="nav-link active"><b>Provider Location</b></a>
        </li>

        <li class="nav-item">
            <a class="nav-link text-black" asp-controller="AdminSite" asp-action="AdminMyProfile" asp-route-adminid="2"><b>My Profile</b></a>
        </li>


        <li class="nav-item dropdown">
            <a class="nav-link text-black btn" data-bs-toggle="dropdown"><b>Providers</b></a>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" asp-controller="AdminSite" asp-action="AdminProviderInformation">Provider</a></li>
                <li><a class="dropdown-item">Scheduling</a></li>
                <li><a class="dropdown-item">Invoicing</a></li>
            </ul>
        </li>

        <li class="nav-item">
            <a class="nav-link text-black"><b>Partners</b></a>
        </li>

        <li class="nav-item">
            <a class="nav-link text-black"><b>Access</b></a>
        </li>

        <li class="nav-item">
            <a class="nav-link text-black"><b>Records</b></a>
        </li>

    </ul>

    <div class="he">
        <div class="he1 h4">
            <p>Provider Location</p>
        </div>
        <div class="he2">
            <button type="button" class="btn btn-outline-info" onclick="history.back()">&lt Back</button>
        </div>
    </div>

    <div id="map"></div>
    </body>
</html>


<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>

    window.onload = () => {
        getProviderLocation();
    }

    var map = L.map('map').setView([38, -97.0], 7);

    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

   

    function getProviderLocation()
    {
        $.ajax({
            url: '/AdminSite/GetProviderLocation',
            type:'GET',

            success: function(res)
            {
                var list = JSON.parse(res);
                var Array = list.ProviderLocationList;
                var count = list.Count;

                console.log(count);

                for(i = 0; i< count ; i++)
                {
                    var marker = L.marker([Array[i].Latitude, Array[i].Longitude]).addTo(map);
                    marker.bindPopup("Dr " +  Array[i].PhysicianName  + " stays here").openPopup();
                }

            }
        });
    }

</script>