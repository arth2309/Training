@model List<HallodocServices.ModelView.SchedulingList>


<div class="table-responsive mt-4">
    <table class="table table-bordered">
        <thead class="table-dark text-center">
            <tr>
                <th>STAFF</th>
                <th>12A</th>
                <th>1A</th>
                <th>2A</th>
                <th>3A</th>
                <th>4A</th>
                <th>5A</th>
                <th>6A</th>
                <th>7A</th>
                <th>8A</th>
                <th>9A</th>
                <th>10A</th>
                <th>11A</th>
                <th>12P</th>
                <th>1P</th>
                <th>2P</th>
                <th>3P</th>
                <th>4P</th>
                <th>5P</th>
                <th>6P</th>
                <th>7P</th>
                <th>8P</th>
                <th>9P</th>
                <th>10P</th>
                <th>11P</th>
            </tr>
        </thead>
        <tbody class="table text-center">
            <tr>
                <td>Covereage</td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
                <td class="bg-pink"></td>
            </tr>
            @foreach (var item in Model)
            {
                <tr>

                    <td>@item.GetPhysicians.FirstName,@item.GetPhysicians.LastName</td>
                    @for(int i = 0; i<24; i++)
                    {
                     

                        bool status = item.GetShiftDetail.FirstOrDefault(a => a.StartTime.Hour == i) == null ? false : true;
                        if (status)
                        {
                            if (item.GetShiftDetail.FirstOrDefault(a => a.StartTime.Hour == i).StartTime.Minute > 0)
                            {
                                float marginleft = ((item.GetShiftDetail.FirstOrDefault(a => a.StartTime.Hour == i).StartTime.Minute) * 100) / 60;
                                float width = 100 - marginleft;
                            }
                            int diff = (item.GetShiftDetail.FirstOrDefault(a => a.StartTime.Hour == i).EndTime.Hour - item.GetShiftDetail.FirstOrDefault(a => a.StartTime.Hour == i).StartTime.Hour);
                            string time = @item.GetShiftDetail.FirstOrDefault(a => a.StartTime.Hour == i).StartTime +"-" + @item.GetShiftDetail.FirstOrDefault(a => a.StartTime.Hour == i).EndTime;
                            if(diff > 1)
                            {
                                for(int j = 1;j<diff; j++)
                                {
                                    i++;
                                }
                            }
                            string shift = item.GetShiftDetail.FirstOrDefault(a => a.Status == 1) == null ? "bg-success" : "bg-pink";
                            <td colspan="@diff"><div class="@shift"></div></td>
                        }
                        else
                        {
                            <td class=""></td>
                        }
                    }
                   
                </tr>
            }
           
        </tbody>
    </table>
</div>