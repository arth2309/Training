@model PaginatedList<HallodocServices.ModelView.VendorsList>

<div class="table-responsive d-none d-sm-flex">
<table class="table">
    <thead class="table-light">
        <tr>
            <th>Profession</th>
            <th>Business Name</th>
            <th>Email</th>
            <th>Fax Number</th>
            <th>Phone Number</th>
            <th>Business Contact</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach(var item in Model)
            {
                <tr>
                    <td>@item.professionName</td>
                    <td>@item.BusinessName</td>
                    <td>@item.Email</td>
                    <td>@item.FaxNumber</td>
                    <td>@item.Mobile</td>
                    <td>@item.BusinessContact</td>
                    <td>
                        <div class="d-flex justify-content-center">
                            <a asp-controller="AdminSite" asp-action="UpdateBusinessPage" asp-route-VendorId="@item.VendorId"><button type="button" class="btn btn-outline-info mx-1">Edit</button></a>
                            <button class="btn btn-outline-info mx-1" onclick="deleteVendor(@item.VendorId)">Delete</button>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
</table>
</div>

<div class="d-flex d-sm-none mx-0">
    <div class="accordion" id="accordionExample" style="width:100%">



        @foreach (var item in Model)
        {




            <div class="accordion-item border">

                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-@item.VendorId" aria-expanded="false" aria-controls="collapseOne" style="display:block">
                       
                            <div>
                                @item.BusinessName
                            </div>
                      

  
                    </button>
                </h2>
                <div id="collapse-@item.VendorId" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                    <div class="accordion-body">

                        <div class="row mt-2">
                            <div class="col">
                                <button type="button" class="btn btn-outline-info rounded-circle"><i class="bi bi-person-fill"></i></button> Profession: @item.professionName
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col">
                                <button type="button" class="btn btn-outline-info rounded-circle"><i class="bi bi-envelope"></i></button> Email:@item.Email
                            </div>
                        </div>
                        <div class="row  mt-2">
                            <div class="col">
                                <button type="button" class="btn btn-outline-info rounded-circle"><i class="bi bi-telephone"></i></button> Fax: @item.FaxNumber
                            </div>
                        </div>
                        <div class="row  mt-2">
                            <div class="col">
                                <button type="button" class="btn btn-outline-info rounded-circle"><i class="bi bi-telephone"></i></button> Phone: @item.Mobile
                            </div>
                        </div>
                        <div class="row  mt-2">
                            <div class="col">
                                <button type="button" class="btn btn-outline-info rounded-circle"><i class="bi bi-envelope"></i></button> Business Contact: @item.BusinessContact
                            </div>
                        </div>

                    </div>

                </div>
            </div>


        }

    </div>
</div>


@if (Model.TotalCount > 0)
{
   <div class="d-flex justify-content-center justify-content-sm-end mt-2">
    <ul class="pagination">
        @if (Model.HasPrevious)
        {
                <li class="page-item" onclick="pageNumberForVendorList(@(Model.CurrentPage-1))"><button class="page-link"><i class="bi bi-chevron-left"></i></button></li>
        }
        else
        {
                <li class="page-item disabled"><button class="page-link"><i class="bi bi-chevron-left"></i></button></li>
        }
        @if (Model.TotalPages < 6)
        {
            for (var i = 1; i <= Model.TotalPages; i++)
            {
                    <li class="page-item @(Model.CurrentPage==i?"active":"")" onclick="pageNumberForVendorList(@i)"><button class="page-link">@i</button></li>
            }
        }
        else
        {
                <li class="page-item @(Model.CurrentPage > 2 ? "" :"d-none")" onclick="pageNumberForVendorList(1)"><button class="page-link">1</button></li>
            <li class="page-item disabled @(Model.CurrentPage > 3 ? "": "d-none")"><button class="page-link">...</button></li>
            @if (Model.CurrentPage > 1 && Model.CurrentPage < Model.TotalPages)
            {
                    <li class="page-item" onclick="pageNumberForVendorList(@(Model.CurrentPage-1))"><button class="page-link">@(Model.CurrentPage - 1)</button></li>
                    <li class="page-item active" onclick="pageNumberForVendorList(@(Model.CurrentPage))"><button class="page-link">@Model.CurrentPage</button></li>
                    <li class="page-item" onclick="pageNumberForVendorList(@(Model.CurrentPage + 1))"><button class="page-link">@(Model.CurrentPage + 1)</button></li>
            }
            @if (Model.CurrentPage == 1)
            {
                    <li class="page-item  active" onclick="pageNumberForVendorList(1)"><button class="page-link">1</button></li>
                    <li class="page-item" onclick="pageNumberForVendorList(2)"><button class="page-link">2</button></li>
                    <li class="page-item" onclick="pageNumberForVendorList(3)"><button class="page-link">3</button></li>
            }
            @if (Model.CurrentPage == Model.TotalPages)
            {
                    <li class="page-item" onclick="pageNumberForVendorList(@(Model.TotalPages - 2))"><button class="page-link">@(Model.TotalPages - 2)</button></li>
                    <li class="page-item" onclick="pageNumberForVendorList(@(Model.TotalPages - 1))"><button class="page-link">@(Model.TotalPages - 1)</button></li>
                    <li class="page-item active" onclick="pageNumberForVendorList(@(Model.TotalPages))"><button class="page-link">@Model.TotalPages</button></li>
            }
            <li class="page-item disabled @(Model.CurrentPage < Model.TotalPages-2? "" : "d-none")"><button class="page-link">...</button></li>
                <li class="page-item @(Model.CurrentPage<Model.TotalPages-1? "" :"d-none")" onclick="pageNumberForVendorList(@(Model.TotalPages))"><button class="page-link">@Model.TotalPages</button></li>
        }
        @if (Model.HasNext)
        {
                <li class="page-item "><button class="page-link" onclick="pageNumberForVendorList(@(Model.CurrentPage+1))"><i class="bi bi-chevron-right"></i></button></li>
        }
        else
        {
                <li class="page-item disabled"><button class="page-link"><i class="bi bi-chevron-right"></i></button></li>
        }
    </ul>

    </div>
    }