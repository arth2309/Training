@model PaginatedList<HallodocServices.ModelView.PatientRecordList>

<div class="table-responsive d-none d-sm-flex">
    <table class="table">
        <thead class="table-light text-center">
            <tr>
              <th>Client/Member</th>
              <th>Created Date</th>
              <th>Conformation</th>
              <th>Provider Name</th>
              <th>Concluded Date</th>
              <th>Status</th>
              <th>Final Report</th>
              <th>Actions</th>
            </tr>
        </thead>
        <tbody class="text-center">
            @foreach(var item in Model)
            {
                <tr >
                    <td>@item.Name</td>
                    <td>@item.CreatedDate.ToString("MMM") @item.CreatedDate.Day,@item.CreatedDate.Year</td>
                    <td>@item.ConfirmationNumber</td>
                    <td>@item.ProviderName</td>
                    <td>@item.CreatedDate.ToString("MMM") @item.CreatedDate.Day,@item.CreatedDate.Year</td>
                    <td>
                        @if (item.status == 1)
                        {
                            @Html.Raw("Unassigned")
                        }
                        @if (item.status == 2)
                        {
                            @Html.Raw("Accepted")
                        }
                        @if (item.status == 3)
                        {
                            @Html.Raw("Cancelled By Admin")
                        }
                        @if (item.status == 4)
                        {
                            @Html.Raw("Reserving")
                        }
                        @if (item.status == 5)
                        {
                            @Html.Raw("MDonRoute")
                        }
                        @if (item.status == 6)
                        {
                            @Html.Raw("MDOnSite")
                        }
                        @if (item.status == 7)
                        {
                            @Html.Raw("FollowUp")
                        }
                        @if (item.status == 8)
                        {
                            @Html.Raw("Closed")
                        }
                        @if (item.status == 9)
                        {
                            @Html.Raw("Locked")
                        }
                        @if (item.status == 10)
                        {
                            @Html.Raw("Declined")
                        }
                        @if (item.status == 11)
                        {
                            @Html.Raw("Consult")
                        }
                        @if (item.status == 12)
                        {
                            @Html.Raw("Clear")
                        }
                        @if (item.status == 13)
                        {
                            @Html.Raw("CancelledByProvider")
                        }
                        @if (item.status == 14)
                        {
                            @Html.Raw("CCUploadedByClient")
                        }
                        @if (item.status == 15)
                        {
                            @Html.Raw("CCApprovedByAdmin")
                        }
                    </td>
                    <td>-</td>
                    <td>
                        
                            <button type="button" class="btn btn-outline-info" data-bs-toggle="dropdown">
                                Action
                            </button>
                            <ul class="dropdown-menu">
                                
                                <li><a class="dropdown-item"> View Case</a></li>
                                <li><a class="dropdown-item">Chat</a></li>
                                <li><a class="dropdown-item btn"> Documents</a></li>
                            </ul>
                        
                    </td>
                </tr>
            }
        </tbody>

    </table>
</div>


<div class="d-flex d-sm-none">
    <div class="accordion" id="accordionExample" style="width:100%">



        @foreach (var item in Model)
        {




            <div class="accordion-item">

                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-@item.RequestId" aria-expanded="false" aria-controls="collapseOne" style="display:block">
                        <div class="d-block">
                            <div>
                                @item.Name
                            </div>
                            <div class="mt-1">
                                @item.ConfirmationNumber
                            </div>

                        </div>
                    </button>
                </h2>
                <div id="collapse-@item.RequestId" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                    <div class="accordion-body">

                        <div class="row mt-2">
                            <div class="col">
                                <button type="button" class="btn btn-outline-info rounded-circle"><i class="bi bi-calendar"></i></button> Created Date:@item.CreatedDate.ToString("MMM") @item.CreatedDate.Day,@item.CreatedDate.Year
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col">
                                <button type="button" class="btn btn-outline-info rounded-circle"><i class="bi bi-person-fill"></i></button> Provider: @item.ProviderName
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col">
                                <button type="button" class="btn btn-outline-info rounded-circle"><i class="bi bi-calendar"></i></button> Concluded Date Date:@item.CreatedDate.ToString("MMM") @item.CreatedDate.Day,@item.CreatedDate.Year
                            </div>
                        </div>

                        <div class="row mt-2">
                            <div class="col">
                                <button type="button" class="btn btn-outline-info rounded-circle"><i class="bi bi-check-lg"></i></button> Status:@if (item.status == 1)
                                {
                                    @Html.Raw("Unassigned")
                                }
                                @if (item.status == 2)
                                {
                                    @Html.Raw("Accepted")
                                }
                                @if (item.status == 3)
                                {
                                    @Html.Raw("Cancelled By Admin")
                                }
                                @if (item.status == 4)
                                {
                                    @Html.Raw("Reserving")
                                }
                                @if (item.status == 5)
                                {
                                    @Html.Raw("MDonRoute")
                                }
                                @if (item.status == 6)
                                {
                                    @Html.Raw("MDOnSite")
                                }
                                @if (item.status == 7)
                                {
                                    @Html.Raw("FollowUp")
                                }
                                @if (item.status == 8)
                                {
                                    @Html.Raw("Closed")
                                }
                                @if (item.status == 9)
                                {
                                    @Html.Raw("Locked")
                                }
                                @if (item.status == 10)
                                {
                                    @Html.Raw("Declined")
                                }
                                @if (item.status == 11)
                                {
                                    @Html.Raw("Consult")
                                }
                                @if (item.status == 12)
                                {
                                    @Html.Raw("Clear")
                                }
                                @if (item.status == 13)
                                {
                                    @Html.Raw("CancelledByProvider")
                                }
                                @if (item.status == 14)
                                {
                                    @Html.Raw("CCUploadedByClient")
                                }
                                @if (item.status == 15)
                                {
                                    @Html.Raw("CCApprovedByAdmin")
                                }
                            </div>
                        </div>

                        <div class="d-flex px-1 mt-2">
                            <button type="button" class="btn btn-outline-info w-100">View Case</button>
                        </div>
                        <div class="d-flex px-1 mt-2">
                            <button type="button" class="btn btn-outline-info w-100">Documents</button>
                        </div>

                    </div>

                </div>
            </div>


        }

    </div>
</div>

@if (Model.TotalCount > 0)
{


    <div class="d-flex justify-content-end">
        <ul class="pagination">
            @if (Model.HasPrevious)
            {
                <li class="page-item" onclick="pageNumber(@(Model.CurrentPage-1))"><button class="page-link"><i class="bi bi-chevron-left"></i></button></li>
            }
            else
            {
                <li class="page-item disabled"><button class="page-link"><i class="bi bi-chevron-left"></i></button></li>
            }
            @if (Model.TotalPages < 6)
            {
                for (var i = 1; i <= Model.TotalPages; i++)
                {
                    <li class="page-item @(Model.CurrentPage==i?"active":"")" onclick="pageNumber(@i)"><button class="page-link">@i</button></li>
                }
            }
            else
            {
                <li class="page-item @(Model.CurrentPage > 2 ? "" :"d-none")" onclick="pageNumber(1)"><button class="page-link">1</button></li>
                <li class="page-item disabled @(Model.CurrentPage > 3 ? "": "d-none")"><button class="page-link">...</button></li>
                @if (Model.CurrentPage > 1 && Model.CurrentPage < Model.TotalPages)
                {
                    <li class="page-item" onclick="pageNumber(@(Model.CurrentPage-1))"><button class="page-link">@(Model.CurrentPage - 1)</button></li>
                    <li class="page-item active" onclick="pageNumber(@(Model.CurrentPage))"><button class="page-link">@Model.CurrentPage</button></li>
                    <li class="page-item" onclick="pageNumber(@(Model.CurrentPage + 1))"><button class="page-link">@(Model.CurrentPage + 1)</button></li>
                }
                @if (Model.CurrentPage == 1)
                {
                    <li class="page-item  active" onclick="pageNumber(1)"><button class="page-link">1</button></li>
                    <li class="page-item" onclick="pageNumber(2)"><button class="page-link">2</button></li>
                    <li class="page-item" onclick="pageNumber(3)"><button class="page-link">3</button></li>
                }
                @if (Model.CurrentPage == Model.TotalPages)
                {
                    <li class="page-item" onclick="pageNumber(@(Model.TotalPages - 2))"><button class="page-link">@(Model.TotalPages - 2)</button></li>
                    <li class="page-item" onclick="pageNumber(@(Model.TotalPages - 1))"><button class="page-link">@(Model.TotalPages - 1)</button></li>
                    <li class="page-item active" onclick="pageNumber(@(Model.TotalPages))"><button class="page-link">@Model.TotalPages</button></li>
                }
                <li class="page-item disabled @(Model.CurrentPage < Model.TotalPages-2? "" : "d-none")"><button class="page-link">...</button></li>
                <li class="page-item @(Model.CurrentPage<Model.TotalPages-1? "" :"d-none")" onclick="pageNumber(@(Model.TotalPages))"><button class="page-link">@Model.TotalPages</button></li>
            }
            @if (Model.HasNext)
            {
                <li class="page-item "><button class="page-link" onclick="pageNumber(@(Model.CurrentPage+1))"><i class="bi bi-chevron-right"></i></button></li>
            }
            else
            {
                <li class="page-item disabled"><button class="page-link"><i class="bi bi-chevron-right"></i></button></li>
            }
        </ul>

    </div>
    }